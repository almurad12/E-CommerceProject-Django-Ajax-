{% extends 'shop1/base1.html' %}

{% block content %}
<script>
document.addEventListener("DOMContentLoaded", function() {
  fetch("/products/")
    .then(response => response.json())
    .then(data=>{
        console.log(data)
    })
    // .then(data => {
    //   let rows = "";
    //   data.forEach(item => {
    //     rows += `
    //       <tr>
    //         <td>${item.id}</td>
    //         <td>${item.name}</td>
    //         <td>${item.price}</td>
    //       </tr>
    //     `;
    //   });
    //   document.querySelector("#productTable tbody").innerHTML = rows;
    // });
});
</script>
<!-- navigation -->
<div class="container mt-3">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-light p-3 rounded shadow-sm">
            <li class="breadcrumb-item">
                <a href="{% url 'home' %}" class="text-decoration-none text-primary">Home</a>
            </li>
            <li class="breadcrumb-item active text-secondary" aria-current="page">Shop</li>
        </ol>
    </nav>
</div>
<!-- navigation -->
<div class="container my-5">
    <div class="row">
        <!-- Card 1-->
        <!-- <div class="col-lg-3 col-6 mb-4">
            <div class="card shadow-sm h-100 d-flex flex-column position-relative product-card">
                <div class="image-container position-relative">
                    <img src="https://editpictureonline.com/wp-content/uploads/2024/04/Amazon-and-Ecommerce-product-photo-editing-Guide.jpg"
                        class="card-img-top" alt="Product Image" style="object-fit: cover;
                                    height: 200px;">
                    <div class="discount-badge position-absolute top-0 start-0 m-2 text-white rounded-circle d-flex align-items-center justify-content-center"
                        style="width: 40px; height: 40px; font-size: 0.8rem; background-color: #7bbbde;font-weight: bold;">
                        -20%
                    </div>
                    <div class="image-buttons position-absolute bottom-0 end-0 m-2 d-flex flex-column gap-1">
                        <button type="button"
                            class="btn p-0 rounded-circle border bg-white d-flex justify-content-center align-items-center specific-heart-icon"
                            style="width: 1.875em; height: 1.875em; color: #000000; transition: all 0.2s ease;">
                            <i class="bi bi-heart" style="font-size: 0.85em; padding-top: 8%"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body d-flex flex-column text-center">
                    <h6 class="card-title text-bold" style="font-size: 0.8em;">
                        <a href="{% url 'singleproduct' %}" class="text-dark" style="text-decoration: none;" onmouseover="this.style.textDecoration='underline'"
                            onmouseout="this.style.textDecoration='none'">
                            This is a Product Name This is a Product Name
                        </a>
                    </h6>
                    <div class="price-info">
                        <span class="text-muted text-decoration-line-through" style="font-size: .7em;">$100000</span>
                        <span class="fw-bold text-danger ms-2" style="font-size: .85em;">$79,999</span>
                    </div>
                </div>
            </div>
        </div> -->
    {% for product in page_obj %}
        <div class="col-lg-3 col-6 mb-4">
                <div class="card shadow-sm h-100 d-flex flex-column position-relative product-card">
                    <div class="image-container position-relative">
                        <img src="{{product.coverphoto.url}}"
                            class="card-img-top" alt="Product Image" style="object-fit: cover;
                                        height: 200px;">
                        <div class="discount-badge position-absolute top-0 start-0 m-2 text-white rounded-circle d-flex align-items-center justify-content-center"
                            style="width: 40px; height: 40px; font-size: 0.8rem; background-color: #7bbbde;font-weight: bold;">
                            -{{product.discount}}%
                        </div>
                        <div class="image-buttons position-absolute bottom-0 end-0 m-2 d-flex flex-column gap-1">
                            <button type="button"
                                class="btn p-0 rounded-circle border bg-white d-flex justify-content-center align-items-center specific-heart-icon"
                                style="width: 1.875em; height: 1.875em; color: #000000; transition: all 0.2s ease;">
                                <i class="bi bi-heart" style="font-size: 0.85em; padding-top: 8%"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body d-flex flex-column text-center">
                        <h6 class="card-title text-bold" style="font-size: 0.8em;">
                            <a href="/shop/{{product.id}}" class="text-dark" style="text-decoration: none;" onmouseover="this.style.textDecoration='underline'"
                                onmouseout="this.style.textDecoration='none'">
                                <!-- This is a Product Name This is a Product Name -->
                                 {{product.name}}
                            </a>
                        </h6>
                        <div class="price-info">
                            <span class="text-muted text-decoration-line-through" style="font-size: .7em;">৳{{product.price}}</span>
                            <span class="fw-bold text-danger ms-2" style="font-size: .85em;">৳{{product.afterdiscountprice}}</span>
                        </div>
                    </div>
                </div>
        </div>
    {% endfor %}
   

    </div>
    <!-- pagination -->
    <!-- <nav aria-label="Page navigation">
        <ul class="pagination d-flex justify-content-end">
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">4</a></li>
            <li class="page-item"><a class="page-link" href="#">5</a></li>
            <li class="page-item"><a class="page-link" href="#">6</a></li>
            <li class="page-item"><a class="page-link" href="#">7</a></li>
            <li class="page-item"><a class="page-link" href="#">8</a></li>
            <li class="page-item"><a class="page-link" href="#">9</a></li>
            <li class="page-item"><a class="page-link" href="#">10</a></li>
            <li class="page-item"><a class="page-link" href="#">11</a></li>
            <li class="page-item"><a class="page-link" href="#">12</a></li>
            <li class="page-item">
                <a class="page-link" href="#">Next</a>
            </li>
        </ul>
    </nav> -->
    <!-- <div class="pagination d-flex justify-content-end mt-3">
        <a href="#" class="rounded text-dark">&laquo;</a>
        <a href="#" class="active rounded text-dark btn-outline-dark">1</a>
        <a href="#" class="rounded text-dark btn-outline-dark">2</a>
        <a href="#" class="rounded text-dark btn-outline-dark">3</a>
        <a href="#" class="rounded text-dark btn-outline-dark">4</a>
        <a href="#" class="rounded text-dark btn-outline-dark">5</a>
        <a href="#" class="rounded text-dark btn-outline-dark">6</a>
        <a href="#" class="rounded text-dark btn-outline-dark">&raquo;</a>
    </div> -->
   
    <!-- pagination -->
    <div class="pagination d-flex justify-content-end mt-3">
        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}" class="rounded text-dark">&laquo;</a>
        {% else %}
        <!-- <span class="rounded text-muted">&laquo;</span> -->
        {% endif %}
    
        {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
        <a href="?page={{ num }}" class="active rounded text-dark btn-outline-dark">{{ num }}</a>
        {% else %}
        <a href="?page={{ num }}" class="rounded text-dark btn-outline-dark">{{ num }}</a>
        {% endif %}
        {% endfor %}
    
    </div>
</div>



{% endblock %}




